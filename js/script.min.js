function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")}));class ValidateForm{constructor(e,t){this.form=e,this.objUser=t,e.addEventListener("submit",(s=>this.formSend(s,this,e,t)))}async formSend(e,t,s,r){e.preventDefault();if(0===t.validateForm(s,r)){s.classList.add("-sending");const e=new FormData(s),t=await fetch(r.url,{method:r.method,body:e});if(t.ok){const e=await t.json();console.log(e.message),window.open("https://t.me/+wntdVyLST8FkZGMy","_self")}if(s.reset(),r.items.input&&r.items.input.length>0&&r.items.input.forEach((e=>{e.blur()})),s.querySelectorAll(".-custom-select")){s.querySelectorAll(".-custom-select").forEach((e=>e.reset()))}s.classList.remove("-sending")}else console.log("Emptly")}validateForm(e,t){let s=0;for(const e in t.items){const r=t.items[e];if("input"==e&&r.length>0&&r.forEach((e=>{this.removeError(e),e.classList.contains("-tel")?this.telTest(e)&&(this.addError(e),s++):e.classList.contains("-email")?this.emailTest(e)&&(this.addError(e),s++):e.classList.contains("-password")?(e.value.length<8||e.value.length>10)&&(this.addError(e),s++,e.value.length<8&&console.log("passswod 8"),e.value.length>10&&console.log("passswod 10")):e.value||(this.addError(e),s++)})),"checkbox"==e&&r.length>0&&r.forEach((e=>{this.removeError(e),e.checked||(this.addError(e),s++)})),"radio"==e&&r.length>0){const e={};r.forEach((t=>{e[t.name]||(e[t.name]=[]),e[t.name].push(t)}));for(const t in e){const r=e[t],o=Array.from(r).filter((e=>e.checked))[0];r.forEach((e=>{this.removeError(e)})),o||r.forEach((e=>{this.addError(e),s++}))}}"select"==e&&r.length>0&&r.forEach((e=>{e.classList.remove("-error"),e.classList.contains("-custom-select-no-choose")&&(e.classList.add("-error"),s++)}))}return s}removeError(e){e.parentElement.classList.remove("-error"),e.classList.remove("-error");const t=e.closest("form");t.classList.contains("-error")&&t.classList.remove("-error")}addError(e){e.parentElement.classList.add("-error"),e.classList.add("-error");const t=e.closest("form");t.classList.contains("-error")||t.classList.add("-error")}emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}telTest(e){return!/^((8|\+7)[\- ]?)?(\(?\d{3,4}\)?[\- ]?)?[\d\- ]{5,10}$/.test(e.value)}}const inputsValue=document.querySelectorAll("[data-value]");inputsValue.length>0&&inputsValue.forEach((e=>{const t=e.dataset.value;e.value||(e.placeholder=t),e.addEventListener("focus",(()=>{e.placeholder=""})),e.addEventListener("blur",(()=>{e.placeholder=t}))}));const formWin=document.querySelector(".form-win");formWin&&new ValidateForm(formWin,{method:"POST",url:"./sendmail.php",items:{input:formWin.querySelectorAll('input[type="text"].-req, input[type="tel"].-req')}});